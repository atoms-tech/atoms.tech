# ============================================================================
# AgentAPI Environment Configuration - 1M Context Window Support
# ============================================================================
# Copy this to your AgentAPI directory as .env
# Location: ../../kush/agentapi/atomsAgent/.env

# ============================================================================
# Anthropic Claude Configuration
# ============================================================================

# Primary model with 1M token context window
# Use the -1m suffix to enable extended context
ANTHROPIC_MODEL=claude-sonnet-4-5@20250929-1m

# Small/fast model for quick operations (standard context)
ANTHROPIC_SMALL_FAST_MODEL=claude-haiku-4-5@20251001

# Beta header required for 1M context window support
# This enables the extended context window feature (currently in beta)
ANTHROPIC_BETA_HEADERS=context-1m-2025-08-07

# ============================================================================
# Vertex AI Configuration
# ============================================================================

# GCP Project ID
GCP_PROJECT_ID=serious-mile-462615-a2

# Vertex AI region
# Recommended: us-central1 or us-east1 (best model availability)
# Alternative: global (if model supports global endpoints)
CLOUD_ML_REGION=us-central1

# Vertex AI location (should match CLOUD_ML_REGION)
VERTEX_AI_LOCATION=us-central1

# ============================================================================
# Optional: Per-Model Region Configuration
# ============================================================================
# Use these if you need different regions for different models

# VERTEX_REGION_CLAUDE_SONNET_4_5=us-central1
# VERTEX_REGION_CLAUDE_HAIKU_4_5=us-central1

# ============================================================================
# API Configuration
# ============================================================================

# AgentAPI server port
PORT=3284

# API key for authentication (should match atoms.tech NEXT_PUBLIC_STATIC_API_KEY)
STATIC_API_KEY=test-api-key-development

# ============================================================================
# Model Fallbacks (Optional)
# ============================================================================
# If 1M context model is not available, fall back to standard model

# ANTHROPIC_MODEL_FALLBACK=claude-sonnet-4-5@20250929
# ANTHROPIC_SMALL_FAST_MODEL_FALLBACK=claude-haiku-3-5@20241022

# ============================================================================
# Logging & Debugging
# ============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable verbose Vertex AI logging
# VERTEX_AI_DEBUG=true

# ============================================================================
# Rate Limiting & Quotas
# ============================================================================

# Max tokens per request (1M context window allows up to ~1M tokens)
MAX_TOKENS_PER_REQUEST=1000000

# Max concurrent requests
MAX_CONCURRENT_REQUESTS=10

# ============================================================================
# Notes
# ============================================================================
#
# 1M Context Window:
# - Currently in beta
# - Requires the beta header: context-1m-2025-08-07
# - Only available in select regions (us-central1, us-east1 recommended)
# - Model must be enabled in Vertex AI Model Garden
#
# Model Naming:
# - Standard context: claude-sonnet-4-5@20250929 (200K tokens)
# - Extended context: claude-sonnet-4-5@20250929-1m (1M tokens)
#
# Region Availability:
# - us-central1: ✅ Usually has all models
# - us-east1: ✅ Usually has all models
# - us-east5: ⚠️ May have limited availability
# - global: ✅ Best availability (if model supports it)
#
# Troubleshooting:
# - If you get 404 errors, try us-central1 or us-east1
# - If 1M model not available, remove -1m suffix and beta header
# - Check Model Garden to verify model is enabled
# - Ensure IAM role: roles/aiplatform.user
#
# ============================================================================

