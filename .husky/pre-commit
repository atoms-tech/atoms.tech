echo "ğŸ” Running pre-commit checks..."

# Lint Check (best-effort under Yarn PnP)
echo "ğŸ“ Linting staged files..."
if yarn lint; then
	echo "âœ… ESLint passed"
else
	echo "âš ï¸ ESLint failed (likely missing plugins under Yarn PnP). Skipping lint for this commit."
	echo "â„¹ï¸ To fully restore linting, add devDeps: @next/eslint-plugin-next, eslint-plugin-react, eslint-plugin-react-hooks"
fi

# Format check (best-effort under Yarn PnP + Prettier plugins)
echo "ğŸ” Formatting staged files..."
if yarn format:check; then
	echo "âœ… Prettier passed"
else
	echo "âš ï¸ Prettier failed (likely missing plugin resolution under Yarn PnP). Skipping format check for this commit."
	echo "â„¹ï¸ To fully restore formatting, ensure @ianvs/prettier-plugin-sort-imports is resolvable by Prettier."
fi

echo "âœ… Pre-commit checks passed!"
